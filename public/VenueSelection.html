<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Venue Selection</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', Inter, Arial, sans-serif;
      background: linear-gradient(135deg, #ffe5ec 0%, #fff1f7 40%, #f7f7ff 100%);
      min-height: 100vh;
      color: #22232A;
    }

    /* Premium Navbar (same style as Matches/VivahStore) */
    .navbar {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 34px;
      box-sizing: border-box;
      background: rgba(255, 255, 255, 0.82);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255, 182, 193, 0.35);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .navbar-logo {
      font-size: 1.55rem;
      font-weight: 700;
      color: #e63946;
      letter-spacing: 0.02em;
      cursor: pointer;
      user-select: none;
    }

    .navbar-profile {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .navbar-heart { position: relative; }
    .navbar-heart-btn {
      background: #FFF3F5;
      border: 1.5px solid #f8bbd0;
      color: #c2185b;
      width: 44px;
      height: 44px;
      border-radius: 999px;
      cursor: pointer;
      display: grid;
      place-items: center;
      transition: transform 0.18s, box-shadow 0.18s, background 0.18s;
      box-shadow: 0 2px 12px rgba(255, 182, 193, 0.14);
    }
    .navbar-heart-btn:hover {
      transform: translateY(-1px) scale(1.03);
      box-shadow: 0 10px 20px rgba(255, 182, 193, 0.25);
      background: #FFEDEE;
    }
    .navbar-heart-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      min-width: 18px;
      height: 18px;
      border-radius: 999px;
      background: #e63946;
      color: white;
      font-size: 0.72rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0 5px;
      border: 2px solid rgba(255,255,255,0.9);
    }

    .heart-menu {
      position: absolute;
      right: 0;
      margin-top: 10px;
      width: 190px;
      background: rgba(255, 255, 255, 0.95);
      border: 1px solid rgba(255, 182, 193, 0.35);
      border-radius: 14px;
      box-shadow: 0 18px 40px rgba(50, 50, 50, 0.12);
      padding: 10px;
      display: none;
    }
    .navbar-heart.open .heart-menu { display: block; }
    .heart-like-row {
      width: 100%;
      border: none;
      border-radius: 12px;
      background: #FFF3F5;
      color: #c2185b;
      cursor: pointer;
      padding: 10px 12px;
      display: flex;
      align-items: center;
      gap: 10px;
      font-family: inherit;
      font-weight: 600;
    }

    .dropdown { position: relative; }
    .dropdown-toggle {
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0;
      border-radius: 999px;
    }

    .navbar-profile-avatar {
      width: 44px;
      height: 44px;
      border-radius: 999px;
      background: #FFF3F5;
      border: 1.5px solid #f8bbd0;
      display: grid;
      place-items: center;
      color: #c2185b;
      font-weight: 700;
      overflow: hidden;
      box-shadow: 0 2px 12px rgba(255, 182, 193, 0.14);
      transition: transform 0.18s, box-shadow 0.18s;
    }
    .navbar-profile-avatar:hover {
      transform: translateY(-1px) scale(1.03);
      box-shadow: 0 10px 20px rgba(255, 182, 193, 0.25);
    }
    .navbar-profile-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
    }
    .navbar-profile-avatar.has-photo img { display: block; }
    .navbar-profile-avatar.has-photo span { display: none; }

    .dropdown-menu {
      position: absolute;
      right: 0;
      top: 56px;
      width: 260px;
      background: rgba(255, 255, 255, 0.96);
      border: 1px solid rgba(255, 182, 193, 0.35);
      border-radius: 16px;
      box-shadow: 0 18px 40px rgba(50, 50, 50, 0.12);
      padding: 12px;
      display: none;
    }
    .dropdown.open .dropdown-menu { display: block; }

    .dropdown-user {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px;
      border-radius: 14px;
      background: #FFF3F5;
      border: 1px solid rgba(255, 182, 193, 0.35);
    }
    .dropdown-user-avatar {
      width: 44px;
      height: 44px;
      border-radius: 999px;
      object-fit: cover;
      display: none;
    }
    .dropdown-user-avatar.show { display: block; }
    .dropdown-user-fallback {
      width: 44px;
      height: 44px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      font-weight: 700;
      color: #c2185b;
      background: #FFEDEE;
      border: 1px solid rgba(255, 182, 193, 0.35);
    }
    .dropdown-user-name { font-weight: 700; color: #62182b; line-height: 1.2; }
    .dropdown-user-handle { color: #ad1457; font-size: 0.9rem; }

    .dropdown-divider {
      height: 1px;
      background: rgba(255, 182, 193, 0.35);
      margin: 12px 4px;
    }

    .dropdown-menu-item {
      width: 100%;
      border: none;
      background: transparent;
      cursor: pointer;
      text-align: left;
      padding: 12px 12px;
      border-radius: 12px;
      font-family: inherit;
      font-weight: 600;
      color: #62182b;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: background 0.18s;
    }
    .dropdown-menu-item:hover { background: #FFEDEE; }

    /* Main container */
    .container {
      max-width: 1280px;
      margin: 64px auto 0 auto;
      padding: 0 20px;
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .page-title {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .page-title h1 {
      margin: 0;
      font-size: 1.55rem;
      font-weight: 800;
      color: #62182b;
      letter-spacing: 0.01em;
    }

    .page-title p {
      margin: 0;
      font-size: 1.02rem;
      font-weight: 500;
      color: #ad1457;
    }

    /* Lock view */
    .lock-wrap {
      display: none;
      width: 100%;
      justify-content: center;
      align-items: center;
    }

    .lock-card {
      width: 100%;
      max-width: 680px;
      background: #FAF7F6;
      border-radius: 20px;
      border: 1.5px solid #FFEDEE;
      box-shadow: 0 4px 24px 0 rgba(255, 182, 193, 0.13), 0 1.5px 6px 0 rgba(255, 182, 193, 0.07);
      padding: 30px 26px;
      text-align: center;
    }

    .lock-icon {
      width: 72px;
      height: 72px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      margin: 0 auto 12px auto;
      background: #FFF3F5;
      border: 2px solid #FFEDEE;
      color: #c2185b;
      box-shadow: 0 2px 12px rgba(255, 182, 193, 0.13);
      font-size: 1.6rem;
    }

    .lock-title {
      font-weight: 800;
      color: #62182b;
      margin: 0;
      font-size: 1.28rem;
    }

    .lock-text {
      margin: 10px 0 18px 0;
      color: #33343A;
      font-size: 1.04rem;
      line-height: 1.7;
    }

    /* Card grid (same as Matches/VivahStore) */
    .matches-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 32px;
      justify-content: center;
      align-items: stretch;
      margin-top: 0;
    }

    .card {
      background: #FAF7F6;
      border-radius: 20px;
      box-shadow: 0 4px 24px 0 rgba(255, 182, 193, 0.13), 0 1.5px 6px 0 rgba(255, 182, 193, 0.07);
      display: flex;
      flex-direction: column;
      align-items: stretch;
      overflow: hidden;
      min-height: 390px;
      border: 1.5px solid #FFEDEE;
      transition: box-shadow 0.22s, transform 0.22s, border 0.18s;
      position: relative;
      margin-bottom: 8px;
    }
    .card:hover {
      box-shadow: 0 12px 40px 0 rgba(50, 50, 50, 0.18), 0 2px 16px 0 rgba(255, 182, 193, 0.13);
      transform: translateY(-8px) scale(1.025);
      border: 1.5px solid #f8bbd0;
    }

    /* Venue card layout (inspired by listing style) */
    .venue-media {
      width: 100%;
      height: 190px;
      background: #FFF3F5;
      border-bottom: 1px solid rgba(255, 182, 193, 0.35);
    }
    .venue-media img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .venue-body {
      padding: 16px 18px 18px 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .venue-title-row {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 12px;
    }

    .venue-name {
      font-weight: 800;
      font-size: 1.1rem;
      color: #62182b;
      letter-spacing: 0.01em;
      line-height: 1.25;
    }

    .venue-rating {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: #FFF3F5;
      border: 1px solid rgba(255, 182, 193, 0.65);
      color: #c2185b;
      font-weight: 800;
      font-size: 0.92rem;
      flex: 0 0 auto;
      box-shadow: 0 2px 10px rgba(255, 182, 193, 0.12);
    }
    .venue-rating i { color: #e63946; }

    .venue-meta-row {
      display: flex;
      gap: 14px;
      flex-wrap: wrap;
      color: #ad1457;
      font-size: 0.95rem;
      font-weight: 600;
    }
    .venue-meta-row i { color: #c2185b; margin-right: 6px; }

    .venue-prices {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .price-box {
      background: #FFF3F5;
      border: 1px solid rgba(255, 182, 193, 0.55);
      border-radius: 14px;
      padding: 10px 12px;
      box-shadow: 0 2px 10px rgba(255, 182, 193, 0.10);
    }
    .price-label {
      font-size: 0.82rem;
      font-weight: 800;
      color: #ad1457;
      letter-spacing: 0.01em;
    }
    .price-value {
      font-size: 1.12rem;
      font-weight: 900;
      color: #62182b;
      margin-top: 2px;
    }
    .price-sub {
      font-size: 0.84rem;
      color: #ad1457;
      margin-top: 2px;
    }

    .venue-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 2px;
    }
    .chip {
      font-size: 0.78rem;
      font-weight: 700;
      color: #62182b;
      background: #FFEDEE;
      border: 1px solid rgba(255, 182, 193, 0.55);
      padding: 6px 10px;
      border-radius: 999px;
    }

    .card-head {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      width: 100%;
    }

    .avatar {
      width: 92px;
      height: 92px;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid #FFEDEE;
      box-shadow: 0 2px 12px rgba(255, 182, 193, 0.13);
      background: #FFF3F5;
      margin-bottom: 10px;
    }

    .avatar img { width: 100%; height: 100%; object-fit: cover; display: block; }

    .name {
      font-weight: 700;
      font-size: 1.22rem;
      color: #62182b;
      letter-spacing: 0.01em;
      text-align: center;
    }

    .meta {
      color: #c2185b;
      font-size: 1.02rem;
      font-weight: 600;
      margin-left: 6px;
    }

    .location {
      font-size: 0.98rem;
      color: #ad1457;
      margin-top: 2px;
      text-align: center;
    }

    .profession {
      font-weight: 600;
      color: #c2185b;
      font-size: 1.01rem;
      text-align: center;
    }

    .bio {
      color: #33343A;
      font-size: 0.98rem;
      line-height: 1.6;
      margin: 2px 0 0 0;
      text-align: left;
      min-height: unset;
      letter-spacing: 0.01em;
    }

    .actions {
      display: flex;
      gap: 12px;
      margin-top: 10px;
      width: 100%;
      justify-content: center;
    }

    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 28px;
      border-radius: 999px;
      font-family: 'Poppins', Inter, Arial, sans-serif;
      font-weight: 500;
      font-size: 1.05rem;
      cursor: pointer;
      outline: none;
      transition: background 0.22s, color 0.22s, box-shadow 0.22s, transform 0.22s;
      box-shadow: 0 2px 12px rgba(255, 182, 193, 0.10);
      border: none;
      position: relative;
      overflow: hidden;
      min-width: 0;
      flex: 1;
      background: #FFF3F5;
      color: #c2185b;
      border: 1.5px solid #f8bbd0;
      box-shadow: 0 2px 12px #ffe5ec80;
    }

    .btn:hover {
      background: #FFEDEE;
      color: #e63946;
      box-shadow: 0 8px 24px #ffe5ecb0;
      transform: scale(1.06);
    }

    @media (max-width: 900px) {
      .container { padding: 0 8px; }
      .matches-grid { gap: 18px; }
      .venue-media { height: 175px; }
      .venue-body { padding: 14px 14px 14px 14px; }
      .actions { gap: 12px; }
      .btn { padding: 12px 18px; }
    }

    @media (max-width: 600px) {
      .navbar { flex-direction: column; gap: 10px; padding: 12px 6px; }
      .container { margin-top: 16px; gap: 16px; }
      .matches-grid { gap: 10px; }
      .card { min-height: 320px; }
      .venue-media { height: 160px; }
      .venue-prices { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="navbar-logo" id="navbarLogo">Vivah</div>

    <div class="navbar-profile">
      <div class="navbar-heart" id="navbarHeart">
        <button class="navbar-heart-btn" id="navbarHeartBtn" type="button" aria-haspopup="true" aria-expanded="false" aria-label="Notifications">
          <i class="fa-regular fa-heart" aria-hidden="true"></i>
        </button>
        <span class="navbar-heart-badge" id="navbarHeartBadge" style="display:none;">1</span>

        <div class="heart-menu" id="navbarHeartMenu" role="menu" aria-label="Notifications">
          <button class="heart-like-row" type="button" id="heartLikes" aria-label="Profile likes">
            <i class="fa-solid fa-heart" aria-hidden="true"></i>
            <span id="heartLikesCount">0</span>
          </button>
        </div>
      </div>

      <div class="dropdown" id="profileDropdown">
        <button class="dropdown-toggle" id="dropdownToggle" aria-haspopup="true" aria-expanded="false" aria-label="Open profile menu">
          <div class="navbar-profile-avatar" id="navbarProfileAvatar" aria-hidden="true">
            <img id="navbarProfileImg" alt="" />
            <span id="navbarProfileText">U</span>
          </div>
        </button>
        <div class="dropdown-menu" id="dropdownMenu" aria-labelledby="dropdownToggle">
          <div class="dropdown-user" id="menuUser" role="presentation">
            <img class="dropdown-user-avatar" id="menuUserAvatar" alt="Your profile photo" />
            <div class="dropdown-user-fallback" id="menuUserFallback" aria-hidden="true">U</div>
            <div>
              <div class="dropdown-user-name" id="menuDisplayName">User</div>
              <div class="dropdown-user-handle" id="menuHandle">@user</div>
            </div>
          </div>

          <div class="dropdown-divider" role="presentation"></div>

          <button class="dropdown-menu-item" id="menuMyProfile"><i class="fa fa-user"></i> Profile</button>
          <button class="dropdown-menu-item" id="menuChat"><i class="fa-solid fa-comments"></i> Chats</button>
          <button class="dropdown-menu-item" id="menuStore"><i class="fa-solid fa-bag-shopping"></i> Vivah Store</button>
          <button class="dropdown-menu-item" id="menuVenue"><i class="fa-solid fa-building-columns"></i> Venue Selection</button>
          <button class="dropdown-menu-item" id="menuHelp"><i class="fa fa-circle-question"></i> Help &amp; Support</button>
          <button class="dropdown-menu-item" id="menuLogout"><i class="fa fa-arrow-right-from-bracket"></i> Logout</button>
        </div>
      </div>
    </div>
  </nav>

  <main class="container">
    <div class="page-title">
      <div>
        <h1>Venue Selection</h1>
        <p>Shortlist a perfect wedding venue</p>
      </div>
    </div>

    <div class="lock-wrap" id="lockedView">
      <div class="lock-card">
        <div class="lock-icon"><i class="fa-solid fa-lock" aria-hidden="true"></i></div>
        <h2 class="lock-title">Locked for your current plan</h2>
        <p class="lock-text">Venue Selection is available only for the ₹1999 plan.</p>
        <button class="btn" type="button" id="upgradeBtn"><i class="fa-solid fa-arrow-up-right-from-square" aria-hidden="true"></i><span>Upgrade</span></button>
      </div>
    </div>

    <section class="matches-grid" id="venueGrid" aria-label="Venues">
      <article class="card" data-id="grandhall" data-name="Grand Wedding Hall" data-city="Mumbai">
        <div class="venue-media">
          <img src="images/sem6matrimonialimg.png" alt="Grand Wedding Hall">
        </div>
        <div class="venue-body">
          <div class="venue-title-row">
            <div class="venue-name">Grand Wedding Hall</div>
            <div class="venue-rating" aria-label="Rating 4.8"><i class="fa-solid fa-star" aria-hidden="true"></i><span>4.8</span></div>
          </div>
          <div class="venue-meta-row">
            <span><i class="fa-solid fa-location-dot" aria-hidden="true"></i>Mumbai</span>
            <span><i class="fa-solid fa-building" aria-hidden="true"></i>Banquet Hall</span>
          </div>
          <div class="venue-prices" aria-label="Price per plate">
            <div class="price-box"><div class="price-label">Veg</div><div class="price-value">₹950</div><div class="price-sub">per plate</div></div>
            <div class="price-box"><div class="price-label">Non-veg</div><div class="price-value">₹1,050</div><div class="price-sub">per plate</div></div>
          </div>
          <div class="venue-tags" aria-label="Venue details">
            <span class="chip">120-500 pax</span>
            <span class="chip">28 rooms</span>
            <span class="chip">Hotel</span>
          </div>
          <p class="bio">Spacious indoor venue with stage and dining.</p>
          <div class="actions">
            <button class="btn" type="button" data-action="select"><i class="fa-solid fa-check" aria-hidden="true"></i><span>Select</span></button>
            <button class="btn" type="button" data-action="book"><i class="fa-solid fa-phone" aria-hidden="true"></i><span>Book</span></button>
          </div>
        </div>
      </article>

      <article class="card" data-id="garden" data-name="Royal Garden Lawns" data-city="Pune">
        <div class="venue-media">
          <img src="images/littleheart5.jpg" alt="Royal Garden Lawns">
        </div>
        <div class="venue-body">
          <div class="venue-title-row">
            <div class="venue-name">Royal Garden Lawns</div>
            <div class="venue-rating" aria-label="Rating 4.7"><i class="fa-solid fa-star" aria-hidden="true"></i><span>4.7</span></div>
          </div>
          <div class="venue-meta-row">
            <span><i class="fa-solid fa-location-dot" aria-hidden="true"></i>Pune</span>
            <span><i class="fa-solid fa-tree" aria-hidden="true"></i>Garden Venue</span>
          </div>
          <div class="venue-prices" aria-label="Price per plate">
            <div class="price-box"><div class="price-label">Veg</div><div class="price-value">₹1,100</div><div class="price-sub">per plate</div></div>
            <div class="price-box"><div class="price-label">Non-veg</div><div class="price-value">₹1,300</div><div class="price-sub">per plate</div></div>
          </div>
          <div class="venue-tags" aria-label="Venue details">
            <span class="chip">150-700 pax</span>
            <span class="chip">Outdoor</span>
            <span class="chip">Parking</span>
          </div>
          <p class="bio">Open-air lawns for a beautiful evening wedding.</p>
          <div class="actions">
            <button class="btn" type="button" data-action="select"><i class="fa-solid fa-check" aria-hidden="true"></i><span>Select</span></button>
            <button class="btn" type="button" data-action="book"><i class="fa-solid fa-phone" aria-hidden="true"></i><span>Book</span></button>
          </div>
        </div>
      </article>

      <article class="card" data-id="resort" data-name="Lakeview Resort" data-city="Udaipur">
        <div class="venue-media">
          <img src="images/littleheart4.jpg" alt="Lakeview Resort">
        </div>
        <div class="venue-body">
          <div class="venue-title-row">
            <div class="venue-name">Lakeview Resort</div>
            <div class="venue-rating" aria-label="Rating 4.9"><i class="fa-solid fa-star" aria-hidden="true"></i><span>4.9</span></div>
          </div>
          <div class="venue-meta-row">
            <span><i class="fa-solid fa-location-dot" aria-hidden="true"></i>Udaipur</span>
            <span><i class="fa-solid fa-umbrella-beach" aria-hidden="true"></i>Resort Venue</span>
          </div>
          <div class="venue-prices" aria-label="Price per plate">
            <div class="price-box"><div class="price-label">Veg</div><div class="price-value">₹3,000</div><div class="price-sub">per plate</div></div>
            <div class="price-box"><div class="price-label">Non-veg</div><div class="price-value">₹3,200</div><div class="price-sub">per plate</div></div>
          </div>
          <div class="venue-tags" aria-label="Venue details">
            <span class="chip">42-600 pax</span>
            <span class="chip">268 rooms</span>
            <span class="chip">Luxury</span>
          </div>
          <p class="bio">Luxury resort venue for destination weddings.</p>
          <div class="actions">
            <button class="btn" type="button" data-action="select"><i class="fa-solid fa-check" aria-hidden="true"></i><span>Select</span></button>
            <button class="btn" type="button" data-action="book"><i class="fa-solid fa-phone" aria-hidden="true"></i><span>Book</span></button>
          </div>
        </div>
      </article>

      <article class="card" data-id="beach" data-name="Seaside Mandap" data-city="Goa">
        <div class="venue-media">
          <img src="images/littleheart3.jpg" alt="Seaside Mandap">
        </div>
        <div class="venue-body">
          <div class="venue-title-row">
            <div class="venue-name">Seaside Mandap</div>
            <div class="venue-rating" aria-label="Rating 4.6"><i class="fa-solid fa-star" aria-hidden="true"></i><span>4.6</span></div>
          </div>
          <div class="venue-meta-row">
            <span><i class="fa-solid fa-location-dot" aria-hidden="true"></i>Goa</span>
            <span><i class="fa-solid fa-water" aria-hidden="true"></i>Beach Venue</span>
          </div>
          <div class="venue-prices" aria-label="Price per plate">
            <div class="price-box"><div class="price-label">Veg</div><div class="price-value">₹800</div><div class="price-sub">per plate</div></div>
            <div class="price-box"><div class="price-label">Non-veg</div><div class="price-value">₹1,200</div><div class="price-sub">per plate</div></div>
          </div>
          <div class="venue-tags" aria-label="Venue details">
            <span class="chip">250-300 pax</span>
            <span class="chip">38 rooms</span>
            <span class="chip">Sunset</span>
          </div>
          <p class="bio">Beach ceremony setup with sunset vibes.</p>
          <div class="actions">
            <button class="btn" type="button" data-action="select"><i class="fa-solid fa-check" aria-hidden="true"></i><span>Select</span></button>
            <button class="btn" type="button" data-action="book"><i class="fa-solid fa-phone" aria-hidden="true"></i><span>Book</span></button>
          </div>
        </div>
      </article>

      <article class="card" data-id="palace" data-name="Heritage Palace Venue" data-city="Jaipur">
        <div class="venue-media">
          <img src="images/sem6matrimonialimg.png" alt="Heritage Palace Venue">
        </div>
        <div class="venue-body">
          <div class="venue-title-row">
            <div class="venue-name">Heritage Palace Venue</div>
            <div class="venue-rating" aria-label="Rating 5.0"><i class="fa-solid fa-star" aria-hidden="true"></i><span>5.0</span></div>
          </div>
          <div class="venue-meta-row">
            <span><i class="fa-solid fa-location-dot" aria-hidden="true"></i>Jaipur</span>
            <span><i class="fa-solid fa-landmark" aria-hidden="true"></i>Palace Venue</span>
          </div>
          <div class="venue-prices" aria-label="Price per plate">
            <div class="price-box"><div class="price-label">Veg</div><div class="price-value">₹2,700</div><div class="price-sub">per plate</div></div>
            <div class="price-box"><div class="price-label">Non-veg</div><div class="price-value">₹3,100</div><div class="price-sub">per plate</div></div>
          </div>
          <div class="venue-tags" aria-label="Venue details">
            <span class="chip">100-900 pax</span>
            <span class="chip">Heritage</span>
            <span class="chip">Luxury</span>
          </div>
          <p class="bio">Grand heritage venue for a royal wedding experience.</p>
          <div class="actions">
            <button class="btn" type="button" data-action="select"><i class="fa-solid fa-check" aria-hidden="true"></i><span>Select</span></button>
            <button class="btn" type="button" data-action="book"><i class="fa-solid fa-phone" aria-hidden="true"></i><span>Book</span></button>
          </div>
        </div>
      </article>

      <article class="card" data-id="rooftop" data-name="Skyline Rooftop Banquet" data-city="Bengaluru">
        <div class="venue-media">
          <img src="images/littleheart5.jpg" alt="Skyline Rooftop Banquet">
        </div>
        <div class="venue-body">
          <div class="venue-title-row">
            <div class="venue-name">Skyline Rooftop Banquet</div>
            <div class="venue-rating" aria-label="Rating 4.8"><i class="fa-solid fa-star" aria-hidden="true"></i><span>4.8</span></div>
          </div>
          <div class="venue-meta-row">
            <span><i class="fa-solid fa-location-dot" aria-hidden="true"></i>Bengaluru</span>
            <span><i class="fa-solid fa-city" aria-hidden="true"></i>Rooftop Venue</span>
          </div>
          <div class="venue-prices" aria-label="Price per plate">
            <div class="price-box"><div class="price-label">Veg</div><div class="price-value">₹1,600</div><div class="price-sub">per plate</div></div>
            <div class="price-box"><div class="price-label">Non-veg</div><div class="price-value">₹1,900</div><div class="price-sub">per plate</div></div>
          </div>
          <div class="venue-tags" aria-label="Venue details">
            <span class="chip">80-400 pax</span>
            <span class="chip">City View</span>
            <span class="chip">Rooftop</span>
          </div>
          <p class="bio">Open rooftop with city lights and premium dining.</p>
          <div class="actions">
            <button class="btn" type="button" data-action="select"><i class="fa-solid fa-check" aria-hidden="true"></i><span>Select</span></button>
            <button class="btn" type="button" data-action="book"><i class="fa-solid fa-phone" aria-hidden="true"></i><span>Book</span></button>
          </div>
        </div>
      </article>

      <article class="card" data-id="temple" data-name="Temple Wedding Hall" data-city="Chennai">
        <div class="venue-media">
          <img src="images/littleheart4.jpg" alt="Temple Wedding Hall">
        </div>
        <div class="venue-body">
          <div class="venue-title-row">
            <div class="venue-name">Temple Wedding Hall</div>
            <div class="venue-rating" aria-label="Rating 4.7"><i class="fa-solid fa-star" aria-hidden="true"></i><span>4.7</span></div>
          </div>
          <div class="venue-meta-row">
            <span><i class="fa-solid fa-location-dot" aria-hidden="true"></i>Chennai</span>
            <span><i class="fa-solid fa-gopuram" aria-hidden="true"></i>Convention Hall</span>
          </div>
          <div class="venue-prices" aria-label="Price per plate">
            <div class="price-box"><div class="price-label">Veg</div><div class="price-value">₹700</div><div class="price-sub">per plate</div></div>
            <div class="price-box"><div class="price-label">Non-veg</div><div class="price-value">₹900</div><div class="price-sub">per plate</div></div>
          </div>
          <div class="venue-tags" aria-label="Venue details">
            <span class="chip">100-600 pax</span>
            <span class="chip">Traditional</span>
            <span class="chip">Dining</span>
          </div>
          <p class="bio">Traditional wedding hall with ample seating and decor.</p>
          <div class="actions">
            <button class="btn" type="button" data-action="select"><i class="fa-solid fa-check" aria-hidden="true"></i><span>Select</span></button>
            <button class="btn" type="button" data-action="book"><i class="fa-solid fa-phone" aria-hidden="true"></i><span>Book</span></button>
          </div>
        </div>
      </article>

      <article class="card" data-id="riverside" data-name="Riverside Lawn" data-city="Rishikesh">
        <div class="venue-media">
          <img src="images/littleheart3.jpg" alt="Riverside Lawn">
        </div>
        <div class="venue-body">
          <div class="venue-title-row">
            <div class="venue-name">Riverside Lawn</div>
            <div class="venue-rating" aria-label="Rating 4.9"><i class="fa-solid fa-star" aria-hidden="true"></i><span>4.9</span></div>
          </div>
          <div class="venue-meta-row">
            <span><i class="fa-solid fa-location-dot" aria-hidden="true"></i>Rishikesh</span>
            <span><i class="fa-solid fa-mountain-sun" aria-hidden="true"></i>Lawn Venue</span>
          </div>
          <div class="venue-prices" aria-label="Price per plate">
            <div class="price-box"><div class="price-label">Veg</div><div class="price-value">₹1,200</div><div class="price-sub">per plate</div></div>
            <div class="price-box"><div class="price-label">Non-veg</div><div class="price-value">₹1,500</div><div class="price-sub">per plate</div></div>
          </div>
          <div class="venue-tags" aria-label="Venue details">
            <span class="chip">60-250 pax</span>
            <span class="chip">Scenic</span>
            <span class="chip">Lawn</span>
          </div>
          <p class="bio">Scenic riverside lawn for intimate premium weddings.</p>
          <div class="actions">
            <button class="btn" type="button" data-action="select"><i class="fa-solid fa-check" aria-hidden="true"></i><span>Select</span></button>
            <button class="btn" type="button" data-action="book"><i class="fa-solid fa-phone" aria-hidden="true"></i><span>Book</span></button>
          </div>
        </div>
      </article>
    </section>
  </main>

  <script type="module">
    import { auth, database } from "./firebase-config.js";
    import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
    import { ref, get } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

    const REQUIRED_PLAN = '12-month';

    function safeParse(raw, fallback) {
      try { return JSON.parse(raw); } catch { return fallback; }
    }

    function getMembership() {
      const raw = localStorage.getItem('vivah_membership_v1') || '';
      const obj = safeParse(raw, null);
      if (obj && typeof obj === 'object') return obj;
      const plan = localStorage.getItem('vivah_membership_plan') || '';
      return plan ? { plan } : null;
    }

    function hasVenueAccess() {
      const membership = getMembership();
      const plan = String(membership?.plan || '');
      const amount = Number(membership?.amount || 0);
      if (plan === REQUIRED_PLAN) return true;
      if (!Number.isNaN(amount) && amount >= 1999) return true;
      return false;
    }

    function applyLockUi() {
      const lockedView = document.getElementById('lockedView');
      const venueGrid = document.getElementById('venueGrid');

      const allowed = hasVenueAccess();
      if (lockedView) lockedView.style.display = allowed ? 'none' : 'flex';
      if (venueGrid) venueGrid.style.display = allowed ? 'grid' : 'none';
    }

    // Dropdown open/close logic with outside click
    const dropdown = document.getElementById('profileDropdown');
    const toggle = document.getElementById('dropdownToggle');
    const menu = document.getElementById('dropdownMenu');
    const myProfileBtn = document.getElementById('menuMyProfile');
    const menuChat = document.getElementById('menuChat');
    const menuStore = document.getElementById('menuStore');
    const menuVenue = document.getElementById('menuVenue');
    const menuHelp = document.getElementById('menuHelp');
    const menuLogout = document.getElementById('menuLogout');
    const navbarProfileAvatar = document.getElementById('navbarProfileAvatar');
    const navbarProfileText = document.getElementById('navbarProfileText');
    const navbarProfileImg = document.getElementById('navbarProfileImg');
    const menuUserAvatar = document.getElementById('menuUserAvatar');
    const menuUserFallback = document.getElementById('menuUserFallback');
    const menuDisplayName = document.getElementById('menuDisplayName');
    const menuHandle = document.getElementById('menuHandle');
    const navbarHeart = document.getElementById('navbarHeart');
    const navbarHeartBtn = document.getElementById('navbarHeartBtn');
    const navbarHeartBadge = document.getElementById('navbarHeartBadge');
    const heartLikesCount = document.getElementById('heartLikesCount');

    const PROFILE_LIKES_KEY = 'vivah_profileLikes';
    const PROFILE_LIKES_UNREAD_KEY = 'vivah_profileLikesUnread';

    function getInt(key, fallback) {
      const raw = localStorage.getItem(key);
      const n = parseInt(raw || '', 10);
      return Number.isFinite(n) ? n : fallback;
    }

    function setLikesUnread(isUnread) {
      localStorage.setItem(PROFILE_LIKES_UNREAD_KEY, isUnread ? '1' : '0');
    }

    function updateHeartUi() {
      const likes = getInt(PROFILE_LIKES_KEY, 0);
      const unread = localStorage.getItem(PROFILE_LIKES_UNREAD_KEY) === '1';

      if (heartLikesCount) heartLikesCount.textContent = String(likes);

      if (navbarHeartBadge) {
        if (unread && likes > 0) {
          navbarHeartBadge.style.display = 'inline-flex';
          navbarHeartBadge.textContent = '';
          navbarHeartBadge.setAttribute('aria-label', `${likes} new like${likes === 1 ? '' : 's'}`);
        } else {
          navbarHeartBadge.style.display = 'none';
        }
      }
    }

    function normalizeUsername(value) {
      return (value || '').toString().trim().replace(/^@+/, '');
    }

    function getFirebaseUser() {
      try { return JSON.parse(localStorage.getItem('firebaseUser') || 'null'); } catch { return null; }
    }

    function getHandleForUi() {
      const stored = normalizeUsername(localStorage.getItem('vivah_username'));
      if (stored) return `@${stored}`;

      const fb = getFirebaseUser();
      const email = (fb?.email || '').trim();
      if (email && email.includes('@')) return `@${email.split('@')[0]}`;

      return '@user';
    }

    function getDisplayNameForUi(handleWithAt) {
      const lsName = (localStorage.getItem('vivah_name') || '').trim();
      if (lsName) return lsName;

      const fb = getFirebaseUser();
      const name = (fb?.displayName || '').trim();
      if (name) return name;

      const base = normalizeUsername(handleWithAt);
      return base || 'User';
    }

    function getInitials(text) {
      const cleaned = (text || '').toString().trim();
      if (!cleaned) return 'U';
      const parts = cleaned.split(/\s+/).filter(Boolean);
      if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();
      return (parts[0][0] + parts[1][0]).toUpperCase();
    }

    function applyProfileUi() {
      const handle = getHandleForUi();
      const displayName = getDisplayNameForUi(handle);
      const initials = getInitials(displayName);

      if (menuHandle) menuHandle.textContent = handle;
      if (menuDisplayName) menuDisplayName.textContent = displayName;
      if (navbarProfileText) navbarProfileText.textContent = initials;
      if (menuUserFallback) menuUserFallback.textContent = initials;

      const dpUrl = localStorage.getItem('dpUrl');
      if (dpUrl && navbarProfileAvatar && navbarProfileImg) {
        navbarProfileImg.src = dpUrl;
        navbarProfileAvatar.classList.add('has-photo');
      }

      if (dpUrl && menuUserAvatar) {
        menuUserAvatar.src = dpUrl;
        menuUserAvatar.classList.add('show');
        if (menuUserFallback) menuUserFallback.style.display = 'none';
      }
    }

    async function fetchEditProfileFromFirebase(uid) {
      try {
        const snap = await get(ref(database, 'editprofile/' + uid));
        if (!snap.exists()) return;
        const data = snap.val() || {};
        if (typeof data.name === 'string') localStorage.setItem('vivah_name', data.name);
        if (typeof data.username === 'string') localStorage.setItem('vivah_username', String(data.username).replace(/^@+/, ''));
      } catch (e) {
        console.error(e);
      } finally {
        applyProfileUi();
      }
    }

    applyProfileUi();
    onAuthStateChanged(auth, (user) => {
      if (user?.uid) fetchEditProfileFromFirebase(user.uid);
    });

    window.addEventListener('storage', (e) => {
      if (e.key === 'vivah_name' || e.key === 'vivah_username' || e.key === 'dpUrl' || e.key === 'vivah_membership_v1' || e.key === 'vivah_membership_plan') {
        applyProfileUi();
        applyLockUi();
      }
    });

    updateHeartUi();

    if (navbarHeart && navbarHeartBtn) {
      navbarHeartBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        const willOpen = !navbarHeart.classList.contains('open');
        navbarHeart.classList.toggle('open');
        navbarHeartBtn.setAttribute('aria-expanded', willOpen ? 'true' : 'false');
        if (willOpen) {
          setLikesUnread(false);
          updateHeartUi();
        }
      });

      document.addEventListener('click', function(e) {
        if (!navbarHeart.contains(e.target)) {
          navbarHeart.classList.remove('open');
          navbarHeartBtn.setAttribute('aria-expanded', 'false');
        }
      });

      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          navbarHeart.classList.remove('open');
          navbarHeartBtn.setAttribute('aria-expanded', 'false');
        }
      });
    }

    if (dropdown && toggle && menu) {
      toggle.addEventListener('click', function(e) {
        e.stopPropagation();
        dropdown.classList.toggle('open');
        toggle.setAttribute('aria-expanded', dropdown.classList.contains('open'));
      });

      document.addEventListener('click', function(e) {
        if (!dropdown.contains(e.target)) {
          dropdown.classList.remove('open');
          toggle.setAttribute('aria-expanded', 'false');
        }
      });

      toggle.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          dropdown.classList.remove('open');
          toggle.setAttribute('aria-expanded', 'false');
        }
      });

      if (myProfileBtn) {
        myProfileBtn.addEventListener('click', function() {
          window.location.href = 'Account.html';
        });
      }

      if (menuLogout) {
        menuLogout.addEventListener('click', async function() {
          try { await signOut(auth); } catch {}
          localStorage.removeItem('firebaseUser');
          localStorage.removeItem('authProvider');
          try {
            const keys = [];
            for (let i = 0; i < localStorage.length; i++) {
              const k = localStorage.key(i);
              if (k) keys.push(k);
            }
            keys.filter((k) => /^sb-.*-auth-token$/.test(k)).forEach((k) => localStorage.removeItem(k));
          } catch {}
          window.location.href = 'index.html';
        });
      }

      if (menuChat) {
        menuChat.addEventListener('click', function() {
          const qs = new URLSearchParams({ to: 'example-aanyasharma' });
          window.location.href = `Chat.html?${qs.toString()}`;
        });
      }

      if (menuStore) {
        menuStore.addEventListener('click', function() {
          window.location.href = 'VivahStore.html';
        });
      }

      if (menuVenue) {
        menuVenue.addEventListener('click', function() {
          window.location.href = 'VenueSelection.html';
        });
      }

      if (menuHelp) {
        menuHelp.addEventListener('click', function() {
          alert('Help & Support coming soon');
        });
      }
    }

    const upgradeBtn = document.getElementById('upgradeBtn');
    if (upgradeBtn) {
      upgradeBtn.addEventListener('click', () => {
        window.location.href = 'Payment.html';
      });
    }

    function wireVenueCards() {
      const allowed = hasVenueAccess();
      if (!allowed) return;

      const SELECTED_KEY = 'vivah_selectedVenue_v1';
      const cards = Array.from(document.querySelectorAll('#venueGrid .card'));

      cards.forEach((card) => {
        const selectBtn = card.querySelector('[data-action="select"]');
        const bookBtn = card.querySelector('[data-action="book"]');

        const venue = {
          id: card.dataset.id || '',
          name: card.dataset.name || '',
          city: card.dataset.city || '',
          ts: Date.now(),
        };

        if (selectBtn) {
          selectBtn.addEventListener('click', () => {
            try { localStorage.setItem(SELECTED_KEY, JSON.stringify(venue)); } catch {}
            const span = selectBtn.querySelector('span');
            if (span) {
              const prev = span.textContent;
              span.textContent = 'Selected';
              selectBtn.disabled = true;
              window.setTimeout(() => { span.textContent = prev; selectBtn.disabled = false; }, 900);
            }
          });
        }

        if (bookBtn) {
          bookBtn.addEventListener('click', () => {
            alert('Booking request sent!');
          });
        }
      });
    }

    const navbarLogo = document.getElementById('navbarLogo');
    if (navbarLogo) {
      navbarLogo.addEventListener('click', () => {
        window.location.href = 'index.html';
      });
    }

    applyLockUi();
    wireVenueCards();
  </script>
</body>
</html>
