<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vivah – Premium Membership</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
  font-family:Montserrat,sans-serif;
  background:#fff7f7;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:22px;
}

.container{
  background:linear-gradient(180deg,#ffffff 0%,#fff8f9 100%);
  border-radius:14px;
  box-shadow:0 8px 30px rgba(198,40,56,.08);
  max-width:920px;
  width:100%;
  padding:34px;
}

h1{text-align:center;margin-bottom:10px;}
.subtitle{text-align:center;margin-bottom:30px;color:#666;}

.pricing-plans{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
  margin-bottom:28px;
}

.plan{
  border-radius:12px;
  padding:22px;
  display:flex;
  flex-direction:column;
  background:#fff;
  border:2px solid #E34450;
  min-height:380px; /* equal height */
  cursor:pointer;
  transition:.3s;
}

.plan:hover{
  transform:translateY(-6px);
  box-shadow:0 18px 40px rgba(227,68,80,.1);
}

.plan.selected{
  box-shadow:0 20px 50px rgba(227,68,80,.15);
}

.badge{
  position:absolute;
  top:12px;
  right:12px;
  font-size:.75rem;
  font-weight:700;
  padding:6px 10px;
  border-radius:999px;
  color:#fff;
}

.badge-starter{background:#ff4d6d;}
.badge-best{background:#e83a4f;}

.price{
  font-size:1.9rem;
  color:#E34450;
  font-weight:800;
  margin:10px 0;
}

.features{
  list-style:none;
  margin-top:12px;
  display:grid;
  gap:10px;
}

.features li{
  display:flex;
  gap:10px;
  align-items:center;
  color:#555;
}

.btn-select{
  margin-top:auto;
  height:48px; /* equal button height */
  display:flex;
  align-items:center;
  justify-content:center;
  width:100%;
  border:none;
  border-radius:10px;
  font-weight:800;
  color:#fff;
  background:linear-gradient(90deg,#ff758c,#e83a4f);
  cursor:pointer;
}

.form-group{margin-bottom:18px;}
input{
  width:100%;
  padding:12px;
  border:1px solid #ddd;
  border-radius:5px;
}

.button-group{
  display:flex;
  gap:10px;
  margin-top:20px;
}

.btn-pay{
  flex:1;
  padding:14px;
  border:none;
  border-radius:5px;
  background:#E34450;
  color:#fff;
  font-weight:bold;
}

.btn-cancel{
  flex:1;
  padding:14px;
  border:none;
  border-radius:5px;
}

@media(max-width:880px){
  .pricing-plans{grid-template-columns:1fr;}
}

</style>
<!-- Razorpay Checkout.js (must be before your payment JS) -->
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<!-- Supabase CDN for browser compatibility -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm"></script>
<!-- Your supabase config and payment-integration scripts -->
<script src="supabase-config.js"></script>
<script src="payment-integration.js"></script>
</head>

<body>

<div class="container">
<h1>Premium Membership</h1>
<p class="subtitle"><b>Unlock all features of Vivah</b></p>

<div class="pricing-plans">

<!-- 3 Month -->
<div class="plan selected" data-plan="3-month" data-price="699">
<h3>3 Months — Starter</h3>
<div class="price">₹699</div>

<ul class="features">
<li>✔ 100 Profile Access</li>
<li>✔ Unlimited Chats</li>
<li>✔ Verified Badge</li>
<li>✔ Vivah Store</li>
</ul>

<button class="btn-select">Select Plan</button>
</div>

<!-- 12 Month -->
<div class="plan" data-plan="12-month" data-price="1999">
<h3>12 Months — Premium</h3>
<div class="price">₹1999</div>

<ul class="features">
<li>✔ Unlimited Chats</li>
<li>✔ Vivah Store</li>
<li>✔ Venue Suggestions</li>
<li>✔ Unlimited Matches</li>
<li>✔ Verified Badge</li>
</ul>

<button class="btn-select">Select Plan</button>
</div>

</div>

<form id="paymentForm">
<div class="form-group">
<label>Name</label>
<input type="text" id="name" required>
</div>

<div class="form-group">
<label>Email</label>
<input type="email" id="email" required>
</div>

<div class="form-group">
<label>Phone</label>
<input type="tel" id="phone" required>
</div>

<div class="button-group">
<button type="button" class="btn-cancel" onclick="history.back()">Cancel</button>
<button type="submit" class="btn-pay" id="payBtn">Pay ₹699</button>
</div>
</form>

</div>


<script>
let selectedPrice = 699;
let selectedPlan = "3-month";

document.querySelectorAll(".plan").forEach(plan => {
  plan.addEventListener("click", () => {
    document.querySelectorAll(".plan").forEach(p => p.classList.remove("selected"));
    plan.classList.add("selected");
    selectedPrice = plan.dataset.price;
    selectedPlan = plan.dataset.plan || selectedPlan;
    document.getElementById("payBtn").textContent = `Pay ₹${selectedPrice}`;
  });
});

document.getElementById("paymentForm").addEventListener("submit", async e => {
  e.preventDefault();
  const name = document.getElementById("name").value;
  const email = document.getElementById("email").value;
  const phone = document.getElementById("phone").value;
  if (window.startPayment) {
    await window.startPayment({ amount: selectedPrice, plan: selectedPlan, name, email, phone });
  } else {
    alert('Payment function not loaded.');
  }
});
</script>

</body>
</html>
